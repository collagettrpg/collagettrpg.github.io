<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/showdown@1.9.0/dist/showdown.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Solway&display=swap" rel="stylesheet">
<script>
	window.addEventListener('load', function () {
		
	const urlParams = new URLSearchParams(window.location.search);
	var post = urlParams.get('post');
	if(post==null){post = "2019-12-01"};
	var branch = urlParams.get('branch');
	if(branch==null){branch = "master"};
	var volume = urlParams.get('volume');
	if(volume==null){volume = "BlogPosts"};
	var converter = new showdown.Converter();
	var urlblog = "https://raw.githubusercontent.com/collagettrpg/collagettrpg.github.io/"+branch+"/"+volume+"/"+post+".txt";
	$("#urlhere").html(branch+"/"+volume+"/"+post);
	$.get(urlblog, function(data, status){
	$("#outdiv").html(converter.makeHtml(data));
    },"text");
    var urlmenu = "https://raw.githubusercontent.com/collagettrpg/collagettrpg.github.io/"+branch+"/Mapping/"+volume+".txt";
    $.get(urlmenu, function(data, status){
	var listboi = data.split("\n")
	listboi.sort();
	var arrayLength = listboi.length;
	linklist="<ul>";
	for (var i = 0; i < arrayLength; i++) {
		var hr=new URLSearchParams(window.location.search);
		hr.set("post",listboi[i]);
		linklist=linklist+'<li><a href='+"index.html"+"?"+decodeURIComponent(hr.toString())+'>'+listboi[i]+'</a></li>';
	}
	$("#sidebar").html(linklist);
    },"text");
    
})
</script>
<style>
body{
	font-family: 'Solway', serif;
	}
</style>
<body>
	<table style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;table-layout:fixed;">
  <tr style="height:40px;">
    <th style="width:25vw;">Sidebar</th>
    <th style="width:75vw;" id="urlhere">a</th>
  </tr>
  <tr style="height:calc(100vh - 45px);">
    <td style="vertical-align: top;text-align: left;"><div id="sidebar"></div></td>
    <td style="vertical-align: top;text-align: left;overflow: scroll;"><div id="outdiv"></div></td>
  </tr>

</table>


</body>

